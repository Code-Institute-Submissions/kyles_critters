    <script src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
    <script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
    <script>
        var $grid = $('.grid').masonry({
    // options...
        itemSelector: '.grid-item',
        columnWidth: 300,
        isFitWidth: true,
        gutter: 20
    });
    // layout Masonry after each image loads
    $grid.imagesLoaded().progress( function() {
    $grid.masonry('layout');
    });
    </script>